print("Reveal Votes executed.")

local revealInChat = true

local votes = game:GetService("ReplicatedStorage").Season.Voting.Votes
local players = game:GetService("ReplicatedStorage").Season.Players

local randomPremsg = {"Guys I think ", "idk if its true but maybe ", "hmm if I had to take a guess I'd say ", "you didn't hear this from me but ", "this is random but im pretty sure ", "Do you guys think ", "pretty sure ", "umm so like ", "guys ", "um ", "... I think "}

votes.ChildAdded:Connect(function(vote)
    local msg = players[vote.Value].Value.." voted "..players[vote.Name].Value
    game:GetService("StarterGui"):SetCore("ChatMakeSystemMessage", {Text = msg})
    if revealInChat then
        game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(randomPremsg[math.random(1, #randomPremsg)]..msg, 'All')
    end
end)
